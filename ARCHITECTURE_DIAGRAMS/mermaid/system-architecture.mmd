graph TB
    subgraph "Presentation Layer"
        Mobile["ðŸ“± Flutter Mobile"]
        Web["ðŸŒ Web PWA"]
        Desktop["ðŸ–¥ï¸ Desktop Linux"]
        Android["ðŸ¤– Android App"]
    end

    subgraph "API Gateway Layer"
        REST["REST API"]
        WS["WebSocket Server"]
        GraphQL["GraphQL Endpoint"]
        gRPC["gRPC Service"]
    end

    subgraph "Core Services"
        Matrix["ðŸ’¬ Matrix Server"]
        Blockchain["â›“ï¸ Blockchain Services"]
        IPFS["ðŸ“¦ IPFS Network"]
        AI["ðŸ§  AI Services"]
        Plugin["ðŸ”Œ Plugin Engine"]
        Identity["ðŸ†” Identity Service"]
    end

    subgraph "Data Layer"
        PostgreSQL["ðŸ˜ PostgreSQL"]
        Redis["ðŸ”´ Redis Cache"]
        SQLCipher["ðŸ” SQLCipher DB"]
        IPFSStorage["ðŸ“¦ IPFS Storage"]
    end

    Mobile --> REST
    Web --> WS
    Desktop --> GraphQL
    Android --> gRPC

    REST --> Matrix
    WS --> Matrix
    GraphQL --> Plugin
    gRPC --> Blockchain

    Matrix --> PostgreSQL
    Blockchain --> Redis
    IPFS --> IPFSStorage
    AI --> SQLCipher

    Identity --> Redis
    Plugin --> Redis

    style Mobile fill:#42a5f5
    style Web fill:#42a5f5
    style Desktop fill:#42a5f5
    style Android fill:#42a5f5
    style REST fill:#66bb6a
    style WS fill:#66bb6a
    style GraphQL fill:#66bb6a
    style gRPC fill:#66bb6a
    style Matrix fill:#ffa726
    style Blockchain fill:#ffa726
    style IPFS fill:#ffa726
    style AI fill:#ffa726
    style Plugin fill:#ffa726
    style Identity fill:#ffa726
    style PostgreSQL fill:#ef5350
    style Redis fill:#ef5350
    style SQLCipher fill:#ef5350
    style IPFSStorage fill:#ef5350

